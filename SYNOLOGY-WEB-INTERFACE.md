# Создание контейнера через веб-интерфейс Synology

> **Важно:** Веб-интерфейс Docker на Synology не поддерживает прямой импорт docker-compose файлов. Используйте один из способов ниже.

## Способ 1: Через SSH (рекомендуется)

Веб-интерфейс не может импортировать docker-compose файлы, но вы можете использовать SSH:

```bash
# Подключитесь по SSH
ssh admin@<IP-Synology>

# Перейдите в директорию проекта
cd /volume1/cinemadelux_5panel

# Соберите и запустите
sudo docker-compose -f docker-compose.synology.yml build
sudo docker-compose -f docker-compose.synology.yml up -d
```

## Способ 2: Создать контейнер вручную через веб-интерфейс

Если хотите использовать веб-интерфейс, создайте контейнер вручную:

### Шаг 1: Соберите образ через SSH

Сначала нужно собрать образ (это можно сделать только через SSH):

```bash
ssh admin@<IP-Synology>
cd /volume1/cinemadelux_5panel
sudo docker-compose -f docker-compose.synology.yml build
```

### Шаг 2: Создайте контейнер через веб-интерфейс

1. Откройте **Docker** в DSM
2. Перейдите на вкладку **Образ**
3. Найдите образ `cinemadelux_5panel_app` (или как он называется после сборки)
4. Нажмите **Запустить**

### Шаг 3: Настройте контейнер

В окне создания контейнера настройте:

#### Вкладка "Общие настройки":
- **Имя контейнера**: `cinema-app`
- **Включить автоперезапуск**: ✅ Включить

#### Вкладка "Порты":
- **Локальный порт**: `8080` (или другой свободный)
- **Контейнерный порт**: `8080`
- **Тип**: `TCP`

#### Вкладка "Тома" (Volumes):
Добавьте том для данных:
- **Папка**: `/volume1/cinemadelux_5panel/data` (создайте её заранее через File Station)
- **Путь монтирования**: `/app/data`
- **Тип**: `Папка`

#### Вкладка "Переменные окружения":
Добавьте переменную:
- **Ключ**: `NODE_ENV`
- **Значение**: `production`

### Шаг 4: Запустите контейнер

Нажмите **Применить** и затем **Запустить**

## Способ 3: Использовать Container Manager (DSM 7.0+)

Если у вас DSM 7.0 или новее, используйте **Container Manager** вместо старого Docker:

1. Откройте **Container Manager**
2. Перейдите на вкладку **Проект**
3. Нажмите **Создать** → **Из файла docker-compose**
4. Выберите файл `docker-compose.synology.yml`
5. Нажмите **Создать**

Container Manager поддерживает docker-compose файлы напрямую!

## Проверка версии DSM

Чтобы узнать версию DSM:
1. Откройте **Панель управления**
2. Посмотрите версию в правом верхнем углу

Если версия 7.0 или выше → используйте **Container Manager**  
Если версия 6.x → используйте SSH или создавайте контейнер вручную

## Рекомендация

**Используйте SSH** - это самый надёжный способ. Веб-интерфейс Docker на старых версиях DSM имеет ограничения.
